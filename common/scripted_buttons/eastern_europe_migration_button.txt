german_migration_button = {
	name = easteurope_migration_button
	desc = easteurope_migration_button_desc

	visible = { always = yes }

	possible = {
		# Note that this closely reflects triggers in the event. Do not change one without changing both
		custom_tooltip = {
			text = migration_button_cooldown_tt
			NOT = { has_variable = german_migration_cooldown }
		}
		culture_percent_country = {
			target = cu:north_german
			value > 0.05
		}
		this = c:POL
		NOR = {
			has_law = law_type:law_closed_borders
			has_law = law_type:law_isolationism
		}
		c:DDR ?= {
			any_scope_state = {
				NOT = {
					has_variable = german_migration_state_var
				}
			}
		}
	}

	effect = {
		random_state = {
			limit = {
				owner = c:DDR
				NOT = {
					has_variable = german_migration_state_var
				}
			}
			save_temporary_scope_as = german_migration_target_state
			set_variable = {
				name = german_migration_state_var
			}
		}
		c:POL = {
			save_temporary_scope_as = migration_country
		}
		cu:north_german = {
			save_temporary_scope_as = migration_culture
		}

		set_variable = {
			name = german_migration_cooldown
			months = 2
		}
		scope:german_migration_target_state = {
			create_mass_migration = {
				origin = scope:migration_country
				culture = scope:migration_culture
			}
		}
		custom_tooltip = {
			text = mass_migration_button_tt
		}
	}

	ai_chance = {
		base = 1
	}
}

patagonia_button = {
	name = patagonia_button
	desc = patagonia_button_desc

	visible = { always = yes }

	possible = {
		has_technology_researched = civilizing_mission
		ig:ig_armed_forces = { 
			is_marginal = no
		}
		any_scope_state = {
			OR = {
				state_region = s:STATE_ARAUCANIA
				state_region = s:STATE_PATAGONIA
				state_region = s:STATE_RIO_NEGRO
			}
			is_under_colonization = yes
		}
		NOT = { has_modifier = patagonia_campaign }
	}

	effect = {
		add_modifier = {
			name = patagonia_campaign
			months = long_modifier_time
		}
	}

	ai_chance = {
		base = 10
	}
}